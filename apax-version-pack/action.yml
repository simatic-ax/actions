name: "Version an apax project and pack for release"
description: "Versions and pack for release"
inputs:
  VERSION:
    required: true
    description: "Semantic version for the newly created package"

runs:
  using: "composite"
  steps:
    - shell: bash
      run: |
        apax version ${{ inputs.VERSION }}

    - name: "Build the apax workspace"
      uses: simatic-ax/actions/apax-build@kruegerf-feat-reusable
      with:
        APAX_TOKEN: ${{ secrets.APAX_TOKEN }}

    - shell: bash
      run: |
        apax pack
